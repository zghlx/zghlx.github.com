<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="../layui/layui.js"></script>
    <script src="../js/iconfont.js"></script>
    <link rel="stylesheet" href="../layui/css/layui.css">
    <link rel="stylesheet" href="../css/main.css">
    <title>Layui</title>
</head>

<body>
    <!-- 内容页 -->
    <div id="content">
        <!-- 工具及搜索栏 -->
        <div class="tool-container">
            <!-- 搜索栏 
            <div class="handle-item">
                <div class="layui-input-inline">
                    <input type="text" autocomplete="off" placeholder="请输入搜索条件" class="layui-input">
                </div>
                <button class="layui-btn mgl-20">查询</button>
                <button class="layui-btn mgl-20">刷新</button>-->
                <!-- 常用工具按钮栏 如 增删改等 
                <div class="fr common-tool-bar">
                    <a class="layui-btn layui-btn-danger radius btn-delect" id="btn-delect-all"><i class="linyer icon-delect"></i> 批量删除</a>
                    <a class="layui-btn btn-add btn-default" id="btn-adduser"><i class="linyer icon-add"></i> 添加用户</a>
                </div>
            </div>-->
            <!-- 额外添加的一些工具栏 
            <div class="layui-clear extra-tool-bar">
                <div class="tableTools fr">
                    <div class="tableTools-box">
                        <a class="dt-button buttons-collection buttons-colvis layui-btn table-tool" tabindex="0" aria-controls="userTable" id="toggle-row" onclick='toggleRow()'><span><i class="linyer icon-search"></i> <span class="hidden">显示/隐藏列</span></span></a>
                        <a class="dt-button buttons-copy buttons-html5 layui-btn table-tool" tabindex="0" aria-controls="userTable"><span><i class="linyer icon-copy"></i> <span class="hidden">复制到剪贴板</span></span></a>
                        <a class="dt-button buttons-csv buttons-html5 layui-btn table-tool" tabindex="0" aria-controls="userTable"><span><i class="linyer icon-exports"></i> <span class="hidden">导出csv</span></span></a>
                        <a class="dt-button buttons-print layui-btn table-tool" tabindex="0" aria-controls="userTable"><span><i class="linyer icon-print"></i> <span class="hidden">打印</span></span></a>
                    </div>
                </div>
            </div>-->
        </div>
        <div class="table-container">
                <table id="demo" lay-filter="test1" ></table>                
        </div>
    <script>
        var table = ''
        layui.use('table', function () {
            
            table = layui.table;
            table.render({
                elem: "#demo",
                height: '720',
                page:true,
                url: '../demojson/demo.json',
                cols: [
                    [ //设置列的样式
                        {checkbox: true},
                        {
                            field: 'order_no',
                            width: 300,
                            sort: true,
                            title: '工单编号'
                        },
                        {
                            field: 'order_name',
                            width: 120,
                            title: '工单名称'
                        },
                        {
                            field: 'order_status_value',
                            width: 120,
                            sort: true,
                            title: '工单状态'
                        },
                        {
                            field: 'modifier_displayname',
                            width: 240,
                            title: '状态修改人'
                        },
                        {
                            field: 'creator_displayname',
                            width: 240,
                            title: '工单创建人'
                        },
                        {
                            field: 'status_start_time',
                            width: 180,
                            title: '状态更新时间'
                        },
                        {
                            field: 'duration',
                            width: 130,
                            sort: true,
                            title: '状态备注'
                        },
                        {
                            fixed: 'right',
                            width: 150,
                            align: 'center',
                            toolbar: "#barDemo"
                        }
                    ]
                ],
                response: {
                    statusName: 'status' //数据状态的字段名称，默认：code
                        ,
                    statusCode: 200 //成功的状态码，默认：0
                        ,
                    countName: 'total' //数据总数的字段名称，默认：count
                        ,
                    dataName: 'rows' //数据列表的字段名称，默认：data
                }
            });

            // //监听工具条
            // table.on('tool("table")', function (obj) { //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
            //     console.log(obj)
            //     var data = obj.data; //获得当前行数据
            //     var layEvent = obj.event; //获得 lay-event 对应的值
            //     var tr = obj.tr; //获得当前行 tr 的DOM对象

            //     if (layEvent === 'detail') { //查看
            //         console.log(1)
            //         //do somehing
            //     } else if (layEvent === 'del') { //删除
            //         layer.confirm('真的删除行么', function (index) {
            //             obj.del(); //删除对应行（tr）的DOM结构
            //             layer.close(index);
            //             //向服务端发送删除指令
            //         });
            //     } else if (layEvent === 'edit') { //编辑
            //         //do something

            //     }
            // });
        });

         /* 显示或隐藏按钮 */
         function toggleRow(){
            var checkStatus = table.checkStatus('#table_demo');
            console.log(checkStatus)
         }
    </script>
    <!-- <script type="text/html" id="barDemo">
        <a class="layui-btn layui-btn-mini" lay-event="detail">查看</a>
        <a class="layui-btn layui-btn-mini" lay-event="edit">编辑</a>
        <a class="layui-btn layui-btn-danger layui-btn-mini" lay-event="del">删除</a>
    </script> -->
</body>

</html>